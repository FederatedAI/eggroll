import{d as M,j as r,r as R,k as O,b as _,c as q,e as s,g as t,w as d,F as J,z as K,E as p,N as U,o as Q,h as V,p as W,n as X,O as Y,_ as Z}from"./index-04664782.js";import{d as ee}from"./dialogTable-0465fdf7.js";const P=u=>(W("data-v-6e64a36c"),u=u(),X(),u),te={class:"section"},ae=P(()=>s("h4",{class:"title"},"Server_node",-1)),oe={class:"table"},le={class:"section"},re=P(()=>s("h4",{class:"title"},"Node_resource",-1)),ne={class:"table"},de=M({__name:"index",setup(u){const h=r([]),S=r([]),c=R({page:1,pageSize:5}),g=R({page:1,pageSize:5}),A=r(1),C=r(5),z=r(1),x=r(5),m=r(0),w=r(0);function D(o){c.pageSize=o,v()}function j(o){c.page=o,v()}function L(o){g.pageSize=o,b()}function B(o){g.page=o,b()}function v(){let o={page:c.page,pageSize:c.pageSize};K(o).then(a=>{a.code===0&&(m.value=a.total,h.value=a.data.map(e=>(e.updatedAt=p(e.updatedAt),e.createdAt=p(e.createdAt),e)))})}function b(){let o={page:g.page,pageSize:g.pageSize};U(o).then(a=>{a.code===0&&(w.value=a.total,S.value=a.data.map(e=>(e.updatedAt=p(e.updatedAt),e.createdAt=p(e.createdAt),e)))})}const N=r("Resource List"),f=r(!1),y=r([]),F=[{prop:"resourceType",label:"ResourceType"},{prop:"total",label:"Total"},{prop:"used",label:"Used"},{prop:"allocated",label:"Allocated"},{prop:"status",label:"Status"},{prop:"createdAt",label:"CreatedAt"}];function $(o){Y({serverNodeId:o.serverNodeId}).then(a=>{a.code})}let i="";function I(o){f.value=!0,i=typeof o!="object"?i:o.serverNodeId;let a={serverNodeId:i};N.value=`serverNodeId: ${i}`,U(a).then(e=>{e.code===0&&(y.value=e.data.map(n=>(n.updatedAt=p(n.updatedAt),n.createdAt=p(n.createdAt),n)))})}function E(){I(i)}function G(){f.value=!1}return O(()=>{b(),v()}),(o,a)=>{const e=_("el-table-column"),n=_("el-button"),k=_("el-table"),T=_("el-pagination");return Q(),q(J,null,[s("section",te,[ae,s("div",oe,[t(k,{data:h.value},{default:d(()=>[t(e,{prop:"serverNodeId",width:"140px",label:"Server_node_id"}),t(e,{prop:"name",label:"Name"}),t(e,{prop:"serverClusterId",width:"150px",label:"Server_cluster_id"}),t(e,{prop:"host",label:"Host"}),t(e,{prop:"port",label:"Port"}),t(e,{prop:"nodeType",label:"Type",width:"150px"}),t(e,{prop:"status",label:"Status"}),t(e,{prop:"createdAt",label:"CreatedAt",width:"180"}),t(e,{prop:"updatedAt",label:"UpdatedAt",width:"180"}),t(e,{fixed:"right",label:"Config",width:"180"},{default:d(l=>[t(n,{link:"",type:"primary",onClick:H=>$(l.row)},{default:d(()=>[V("Get Config")]),_:2},1032,["onClick"])]),_:1}),t(e,{fixed:"right",label:"Resource",width:"180"},{default:d(l=>[t(n,{link:"",type:"primary",onClick:H=>I(l.row)},{default:d(()=>[V("Get Resource")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(T,{class:"pt-16",background:"",layout:"total, sizes, prev, pager, next, jumper","current-age":A.value,"onUpdate:currentAge":a[0]||(a[0]=l=>A.value=l),"page-size":C.value,"onUpdate:pageSize":a[1]||(a[1]=l=>C.value=l),"page-sizes":[5,10,20,50],total:m.value,onSizeChange:D,onCurrentChange:j},null,8,["current-age","page-size","total"])])]),s("section",le,[re,s("div",ne,[t(k,{data:S.value},{default:d(()=>[t(e,{prop:"resourceId",label:"Resource_id",width:"120px"}),t(e,{prop:"serverNodeId",label:"Server_node_id",width:"150px"}),t(e,{prop:"resourceType",label:"Resource_type",width:"180px"}),t(e,{prop:"total",label:"Total"}),t(e,{prop:"used",label:"Used"}),t(e,{prop:"allocated",label:"Allocated"}),t(e,{prop:"status",label:"Status"}),t(e,{prop:"extention",label:"extention"}),t(e,{prop:"createdAt",label:"createdAt",width:"180"}),t(e,{prop:"updatedAt",label:"updatedAt",width:"180"})]),_:1},8,["data"]),t(T,{class:"pt-16",background:"",layout:"total, sizes, prev, pager, next, jumper","current-age":z.value,"onUpdate:currentAge":a[2]||(a[2]=l=>z.value=l),"page-size":x.value,"onUpdate:pageSize":a[3]||(a[3]=l=>x.value=l),"page-sizes":[5,10,20,50],total:w.value,onSizeChange:L,onCurrentChange:B},null,8,["current-age","page-size","total"])])]),t(ee,{title:N.value,dialogVisible:f.value,tableData:y.value,tableLabel:F,onUpdateVisiable:G,onRefresh:E},null,8,["title","dialogVisible","tableData"])],64)}}});const ie=Z(de,[["__scopeId","data-v-6e64a36c"]]);export{ie as default};
